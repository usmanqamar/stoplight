openapi: 3.0.3
info:
  title: Intercity Mock API
  version: 1.0.0

servers:
  - url: http://localhost:4010

components:
  securitySchemes:
    bearerAuth:
      type: apiKey
      in: header
      name: Authorization  # optional, for documentation

paths:
  /intercity/v1/trip/{tripId}:
    get:
      summary: Get trip details with all bookings. actual path will be <baseurl>/b2c/driver/
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: tripId
          required: true
          schema:
            type: string
          description: Trip ID
        - in: query
          name: location
          required: false
          schema:
            type: string
          description: Driver's current location lat,lng

        - in: header
          name: app_language
          required: false
          schema:
            type: string
            default: en
          description: Preferred language for currency label (e.g. en, fr, ar)
      responses:
        '200':
          description: Trip details retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  trip:
                    type: object
                    properties:
                      id:
                        type: string
                      status:
                        type: string
                      pickup:
                        type: object
                        properties:
                          address:
                            type: string
                          city:
                            type: string
                          distance:
                            type: number
                          departureTime:
                            type: string
                            format: date-time

                          lat:
                            type: number
                          lng:
                            type: number
                      destination:
                        type: object
                        properties:
                          address:
                            type: string
                          city:
                            type: string
                          arrivalTime:
                            type: string
                            format: date-time
                          lat:
                            type: number
                          lng:
                            type: number
                      price:
                        type: number
                      maxSeats:
                        type: number
                      currency:
                        type: string
                      currencyLabel:
                        type: string
                      driverProfile:
                        type: object
                        properties:
                          id:
                            type: string
                          phone:
                            type: string
                          picture:
                            type: string
                          name:
                            type: string
                          rating:
                            type: number
                          car:
                            type: object
                            properties:
                              make:
                                type: string
                              model:
                                type: string
                              color:
                                type: string
                              immat:
                                type: string
                      bookings:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              seats: number
                            riderProfile:
                              type: object
                              properties:
                                id:
                                  type: string
                                rider:
                                  type: string
                                email:
                                  type: string
                                fullName:
                                  type: string
                                gender:
                                  type: string
                                phone:
                                  type: string
                                rating:
                                  type: string
                                reviewCount:
                                  type: number
              examples:
                with-bookings:
                  summary: Trip with bookings
                  value:
                    success: true
                    trip:
                      id: "6550f8a8e4b0a2f9c8b0e1a3"
                      status: "DRIVER_ASSIGNED"
                      pickup:
                        address: "Abadla, Béchar, Algérie"
                        city: "Béchar"
                        distance: 51997
                        departureTime: "2026-02-01T10:00:00.000Z"
                        lat: 31.021289
                        lng: -2.719016
                      destination:
                        address: "Abalessa, Tamanrasset, Algérie"
                        city: "Tamanrasset"
                        lat: 22.893424
                        lng: 4.850719
                        arrivalTime: "2026-02-01T10:00:00.000Z"

                      price: 2500
                      maxSeats: 4
                      currency: "DZD"
                      currencyLabel: "DZD"
                      driverProfile:
                        id: "63a1853f465b7f0008e6f0e4"
                        phone: "+213600000000"
                        picture: "https://example.com/driver001.jpg"
                        name: "John Doe"
                        rating: 4.8
                        car:
                          make: "Toyota"
                          model: "Corolla"
                          color: "Blue"
                          immat: "123-ABC-45"
                      bookings:
                        - id: "6550f8a8e4b0a2f9c8b0e1a4"
                          seats: 1
                          riderProfile:
                            id: "6550f8a8e4b0a2f9c8b0e1a5"
                            rider: "6550f8a8e4b0a2f9c8b0e1a5"
                            email: "rider1@example.com"
                            fullName: "Alice Smith"
                            gender: "female"
                            phone: "+213600000001"
                            rating: 4.5
                            reviewCount: 10
                        - id: "6550f8a8e4b0a2f9c8b0e1a6"
                          seats: 2
                          riderProfile:
                            id: "6550f8a8e4b0a2f9c8b0e1a7"
                            rider: "6550f8a8e4b0a2f9c8b0e1a7"
                            email: "rider2@example.com"
                            fullName: "Bob Johnson"
                            gender: "male"
                            phone: "+213600000002"

                no-bookings:
                  summary: Trip without bookings
                  value:
                    success: true
                    trip:
                      id: "6550f8a8e4b0a2f9c8b0e1a3"
                      status: "DRIVER_ASSIGNED"
                      pickup:
                        address: "Abadla, Béchar, Algérie"
                        city: "Béchar"
                        distance: 51997
                        departureTime: "2026-02-01T10:00:00.000Z"
                        arrivalTime: "2026-02-01T10:00:00.000Z"
                        lat: 31.021289
                        lng: -2.719016
                      destination:
                        address: "Abalessa, Tamanrasset, Algérie"
                        city: "Tamanrasset"
                        lat: 22.893424
                        lng: 4.850719
                      price: 2500
                      maxSeats: 4
                      currency: "DZD"
                      currencyLabel: "DZD"
                      driverProfile:
                        id: "63a1853f465b7f0008e6f0e4"
                        phone: "+213600000000"
                        picture: "https://example.com/driver001.jpg"
                        name: "John Doe"
                        rating: 4.8
                        car:
                          make: "Toyota"
                          model: "Corolla"
                          color: "Blue"
                          immat: "123-ABC-45"
                      bookings: []

  /intercity/v1/validatePickup:
    post:
      summary: Validate driver's chosen pickup location if its in within the wilaya. actual path will be <baseurl>/b2c/driver/
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                pickupPath:
                  type: string
                  description: wilaya Path
                pickupLocation:
                  type: object
                  description: Pickup location path
                  properties:
                    lat:
                      type: number
                      description: Latitude of the pickup location
                    lng:
                      type: number
                      description: Longitude of the pickup location
                
            examples:
              basic:
                summary: Example success request
                value:
                  pickupPath: "1258647,192756,0"
                  pickupLocation:
                    lat: 36.752887
                    lng: 3.042048

                  
      security:
        - bearerAuth: []
      responses:
        '200':
          description: validated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                 
              examples:
                success:
                  summary: Example successful response
                  value:
                    success: true
                    message: "Location is validated"
                error:
                  summary: Example error response
                  value:
                    success: true
                    message: "Location is not valid"
                   
  
        '400':
          description: Bad request
          content:
            application/json:
              examples:
                missing_fields:
                  summary: Missing required fields
                  value:
                    success: false
                    errorMessageKey: "REQUIRED_FIELD_ERROR"
                    errorMessage: "Pickup path is required"
                
  
        '500':
          description: Server error
          content:
            application/json:
              examples:
                server_error:
                  summary: Example error response
                  value:
                    success: false
                    errorMessageKey: "ERROR_VALIDATE_LOCATION"
                    errorMessage: "Error validating the pickup location"

  /intercity/v1/create-trip:
    post:
      summary: Create a new intercity trip. actual path will be <baseurl>/b2c/driver/
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - pickup
                - destination
                - seats
                - price
              properties:
                pickup:
                  type: object
                  description: Pickup location path
                  properties:
                    lat:
                      type: number
                      description: Latitude of the pickup location
                    lng:
                      type: number
                      description: Longitude of the pickup location
                    path:
                      type: string
                      description: Level 1 path of the city (wilaya)
                destination:
                  type: string
                  description: Destination location path i.e level 2
                seats:
                  type: number
                  minimum: 1
                  description: Number of available seats
                price:
                  type: number
                  minimum: 0
                  description: Trip price per seat
            examples:
              create-trip:
                summary: Example create trip request
                value:
                  pickup:
                    lat: 36.752887
                    lng: 3.042048
                    path: "0,192756,1258648"
                  destination: "0,192756,1258648"
                  seats: 4
                  price: 2500
      responses:
        '200':
          description: Trip created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  tripId:
                    type: string
                 
              examples:
                success:
                  summary: Example success response
                  value:
                    success: true
                    tripId: "6550f8a8e4b0a2f9c8b0e1a3"
        '400':
          description: Bad request, invalid or missing parameters
          content:
            application/json:
              examples:
                bad_request:
                  summary: Example bad request response
                  value:
                    success: false
                    errorMessageKey: "REQUIRED_FIELD_ERROR"
                    errorMessage: "Required fields are missing or invalid"
                invalid_pickup:
                  summary: Example of invalid location selection response
                  value:
                    success: false
                    errorMessageKey: "INVALID_PICKUP_COORDINATES"
                    errorMessage: "Pickup location is not within the specified city/wilaya"
        '500':
          description: Server error
          content:
            application/json:
              examples:
                create_error:
                  summary: Example error response
                  value:
                    success: false
                    errorMessageKey: "CREATE_TRIP_ERROR"
                    errorMessage: "Error creating the trip"

  /intercity/v1/cancel-booking:
    post:
      summary: Cancel an intercity booking. actual path will be <baseurl>/b2c/rider/
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                bookingId:
                  type: string
                  description: The ID of the booking to cancel
                
            examples:
              cancel-request:
                summary: Example cancel request
                value:
                  bookingId: "507f1f77bcf86cd799439011"
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Booking canceled successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                 
              examples:
                success:
                  summary: Example successful response
                  value:
                    success: true
                    message: "Booking canceled successfully"
                   
  
        '400':
          description: Bad request
          content:
            application/json:
              examples:
                missing_fields:
                  summary: Missing required fields
                  value:
                    success: false
                    errorMessageKey: "REQUIRED_FIELD_ERROR"
                    errorMessage: "Booking ID is required and must be valid"
                already_canceled:
                  summary: Booking already canceled
                  value:
                    success: false
                    errorMessageKey: "ALREADY_CANCELED"
                    errorMessage: "Booking is already canceled"
                cancellation_window_expired:
                  summary: Cancellation window expired
                  value:
                    success: false
                    errorMessageKey: "VALIDATION_ERROR"
                    errorMessage: "Cancellation window has expired. You cannot cancel this booking as the trip is too close to departure time"
                   
  
        '403':
          description: Forbidden - Not authorized to cancel this booking
          content:
            application/json:
              examples:
                unauthorized:
                  summary: Unauthorized access
                  value:
                    success: false
                    errorMessageKey: "VALIDATION_ERROR"
                    errorMessage: "You are not authorized to cancel this booking"
  
        '404':
          description: Booking not found
          content:
            application/json:
              examples:
                not_found:
                  summary: Booking not found
                  value:
                    success: false
                    errorMessageKey: "NOT_FOUND"
                    errorMessage: "Booking not found"
  
        '500':
          description: Server error
          content:
            application/json:
              examples:
                server_error:
                  summary: Example error response
                  value:
                    success: false
                    errorMessageKey: "ERROR_CANCEL_BOOKING"
                    errorMessage: "Error canceling the intercity booking"

  /intercity/v1/level2-locations:
    get:
      summary: Get list of level 2 locations of given level 1
      parameters:
        - in: header
          name: yassir-app-language
          required: false
          schema:
            type: string
          description: Preferred language for the response (e.g. en, fr, ar)
        - in: query
          name: level1Path
          required: true
          schema:
            type: string

      security:
        - bearerAuth: []
      responses:
        '200':
          description: Successful response with pickup list
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: array
                    nullable: true
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          description: Object Id
                        name:
                          type: string
                          description: App language based
                        path:
                          type: string
                          description: Path string
              examples:
                with-data:
                  summary: Example with some data
                  value:
                    success: true
                    data:
                     - id: "123456788"
                       name: "Abadla"
                       path: "6531119,1258647,192756,0"
                     - id: "123456789"
                       name: "Bechar"
                       path: "6531015,1258647,192756,0"
                empty:
                  summary: Example with empty data
                  value:
                    success: true
                    data: []
                arabic:
                  summary: Example with arabic data
                  value:
                    success: true
                    data:
                     - id: "123456788"
                       name: "دائرة العبادلة"
                       path: "6531119,1258647,192756,0"
        '400':
          description: Bad Request
          content:
            application/json:
              examples:
                pickup_error:
                  summary: Without Service Family Id
                  value:
                    success: false
                    data: null
                    errorMessageKey: "FAMILYID_REQUIRED"
                    errorMessage: "Service Family Id required"
        '500':
          description: Server error
          content:
            application/json:
              examples:
                pickup_error:
                  summary: Example error response
                  value:
                    success: false
                    data: null
                    errorMessageKey: "ERROR_PICKUP_LIST"
                    errorMessage: "Error in getting the list of pickups"   
  /intercity/v1/active-trip:
    get:
      summary: Get active trip of rider. actual path will be <baseurl>/b2c/rider/
      parameters:
        - in: header
          name: yassir-app-language
          required: false
          schema:
            type: string
          description: Preferred language for the response (e.g. en, fr, ar)
        - in: query
          name: location
          required: false
          schema:
            type: string
          description: Location of rider comma separated lat,lng

      security:
        - bearerAuth: []
      responses:
        '200':
          description: Successful response with active trip
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  trip:
                    type: object
                    properties:
                      id:
                        type: string
                      pickup:
                        type: object
                        properties:
                          address:
                            type: string
                          city:
                            type: string
                          distance:
                            type: number
                          departureTime:
                            type: string
                            format: date-time
                          arrivalTime:
                            type: string
                            format: date-time
                          lat:
                            type: number
                          lng:
                            type: string
                      destination:
                        type: object
                        properties:
                          address:
                            type: string
                          city:
                            type: string
                          lat:
                            type: number
                          lng:
                            type: string
                      bookings:
                        type: array
                        items:
                          type: object
                          properties:
                            id: 
                              type: string
                            riderProfile:
                              type: object
                              properties:
                                id:
                                  type: string
                                rider:
                                  type: string
                                email:
                                  type: string
                                fullName:
                                  type: string
                                gender:
                                  type: string
                                phone:
                                  type: string
                                rating:
                                  type: number
                                reviewCount:
                                  type: number
                      paymentMethod:
                        type: string
                      price:
                        type: number
                      currency:
                        type: string
                      currencyLabel:
                        type: string
                      remainingSeats:
                        type: number
                      driverProfile:
                        type: object
                        properties:
                          id:
                            type: string
                          phone:
                            type: string
                          picture:
                            type: string
                          name:
                            type: string
                          rating:
                            type: number
                          car:
                            type: object
                            properties:
                              make: 
                                type: string
                              model: 
                                type: string
                              color: 
                                type: string
                              immat:
                                type: string  
                     

              examples:
                with-trip:
                  summary: Example with trip
                  value:
                    success: true
                    trip:
                        id: "trip001"
                        pickup:
                          lat: 36.47
                          lng: 3.09
                          address: "123 Main St"
                          city: "Blida"
                          distance: 1200
                          departureTime: "2024-06-10T09:30:00Z"
                        destination:
                          address: "456 Elm St"
                          city: "Oran"
                          arrivalTime: "2024-06-10T09:30:00Z"
                          lat: 36.74
                          lng: 3.09

                        paymentMethod: "CASH"
                        price: 2500
                        currency: "DZD"
                        currencyLabel: "DZ"
                        remainingSeats: 2
                        bookings:
                          - id: "123456788"
                            seats: 1
                            riderProfile: 
                              id: ""
                              fullName: "Usman"
                              gender: "male"
                              rating: 4
                              firstName: "Usman"
                              lastName: "Qamar"
                              reviewCount: 10
                              phone: "+12345678"
                              
                          
                        driverProfile: 
                          id: "driver001"
                          phone: "+213600000000"
                          picture: "https://example.com/driver001.jpg"
                          name: "John Doe"
                          rating: 4.8
                          car:    
                            make: "Toyota"
                            model: "Corolla"
                            color: "Blue"
                            immat: "123-XYZ"
              
                no-data:
                  summary: Example with no trip
                  value:
                    success: true
                    trip: null

        '500':
          description: Server error
          content:
            application/json:
              examples:
                pickup_error:
                  summary: Example error response
                  value:
                    success: false
                    trip: null
                    errorMessageKey: "ERROR_ACTIVE_TRIP"
                    errorMessage: "Error in getting the active trip"   
  /intercity/v1/pickup:
    get:
      summary: Get list of pickups configured. actual path will be <baseurl>/b2c/common/
      parameters:
        - in: header
          name: yassir-app-language
          required: false
          schema:
            type: string
          description: Preferred language for the response (e.g. en, fr, ar)
        - in: query
          name: location
          required: false
          schema:
            type: string
          description: lat,lng
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Successful response with pickup list
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: array
                    nullable: true
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          description: Object Id
                        code:
                          type: string
                          description: Optional string
                        name:
                          type: string
                          description: App language based
                        path:
                          type: string
                          description: Path string
              examples:
                with-data:
                  summary: Example with some data
                  value:
                    success: true
                    data:
                      - id: "123456788"
                        code: "11"
                        name: "Blida"
                        path: "0,192756,1258647"
                      - id: "123456788"
                        code: "12"
                        name: "Oran"
                        path: "0,192756,1258647"
                empty:
                  summary: Example with empty data
                  value:
                    success: true
                    data: []
                arabic:
                  summary: Example with arabic data
                  value:
                    success: true
                    data:
                      - id: "123456788"
                        code: "11"
                        name: "البليدة"
                        path: "0,192756,1258647"
                      - id: "123456788"
                        code: "12"
                        name: "وهران"
                        path: "0,192756,1258647"
        '400':
          description: Bad Request
          content:
            application/json:
              examples:
                pickup_error:
                  summary: Without Service Family Id
                  value:
                    success: false
                    data: null
                    errorMessageKey: "FAMILYID_REQUIRED"
                    errorMessage: "Service Family Id required"
        '500':
          description: Server error
          content:
            application/json:
              examples:
                pickup_error:
                  summary: Example error response
                  value:
                    success: false
                    data: null
                    errorMessageKey: "ERROR_PICKUP_LIST"
                    errorMessage: "Error in getting the list of pickups"   
  /intercity/v1/destination/{pickup}:
    get:
      summary: Get list of destinations for a pickup path configured. actual path will be <baseurl>/b2c/common/
      parameters:
        - name: pickup
          in: path
          required: true
          schema:
            type: string
          description: The pickup path string

        - in: header
          name: yassir-app-language
          required: false
          schema:
            type: string
          description: Preferred language for the response (e.g. en, fr, ar)

      responses:
        '200':
          description: Successful response with destination list
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: array
                    nullable: true
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          description: Object Id
                        code:
                          type: string
                          description: Optional string
                        name:
                          type: string
                          description: App language based
                        path:
                          type: string
                          description: Path string
              examples:
                with-data:
                  summary: Example with data
                  value:
                    success: true
                    data:
                      - id: "123456788"
                        code: "11"
                        name: "Blida"
                        path: "0,192756,1258647"
                      - id: "123456788"
                        code: "11"
                        name: "Oran"
                        path: "0,192756,1258647"
                empty:
                  summary: Example with empty data
                  value:
                    success: true
                    data: []
                arabic:
                  summary: Example with arabic data
                  value:
                    success: true
                    data:
                      - id: "123456788"
                        code: "11"
                        name: "البليدة"
                        path: "0,192756,1258647"
                      - id: "123456788"
                        code: "12"
                        name: "وهران"
                        path: "0,192756,1258647"
        '400':
          description: Bad request
          content:
            application/json:
              examples:
                destination_error_400:
                  summary: Example 400 error response
                  value:
                    success: false
                    data: null
                    errorMessageKey: "REQUIRED_FIELD_ERROR"
                    errorMessage: "Error in getting the list of destinations"
        '500':
            description: Server error
            content:
              application/json:
                examples:
                  destination_error:
                    summary: Example 500 error response
                    value:
                      success: false
                      data: null
                      errorMessageKey: "ERROR_DESTINATION_LIST"
                      errorMessage: "Error in getting the list of destinations"
  /intercity/v1/config:
    get:
      summary: Get config of a service. actual path will be <baseurl>/b2c/common/

      security:
        - bearerAuth: []
      responses:
        '200':
          description: Successful response with config keys
          content:
            application/json:
              schema:
                type: object
                properties:
                  bookingMinTime:
                    type: number
                    description: Minimum time for future booking
                  bookingMaxTime:
                    type: number
                    description: Maximum time for future booking
                  maxSeats:
                    type: number
                    description: Number of seats in car
                  path:
                    type: string
                    description: Path string
              examples:
                with-data:
                  summary: Example with some data
                  value:
                    maxSeats: 4
                    bookingMinTime: 1762142400000
                    bookingMaxTime: 1763236800000

        '500':
          description: Server error
          content:
            application/json:
              examples:
                pickup_error:
                  summary: Example error response
                  value:
                    success: false
                    data: null
                    errorMessageKey: "ERROR_INTERCITY_CONFIG"
                    errorMessage: "Error in getting the config for the service"
  /intercity/v1/search-trips:
    post:
      summary: Search available intercity trips. actual path will be <baseurl>/b2c/rider/
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - pickup
                - destination
          
              properties:
                datetime:
                  type: string
                  format: date-time
                  description: Date and time for the trip (ISO 8601 format)
                pickup:
                  type: string
                  description: Pickup location path
                destination:
                  type: string
                  description: Destination location path
                  required: true
                seats:
                  type: number
                  description: Number of seats required
                location:
                  type: object
                  description: Location of user
                  properties:
                    lat:
                      type: number
                    lng:
                      type: number
                      
            
            examples:
              search-request:
                summary: Example search request
                value:
                  datetime: "2024-06-10T09:00:00Z"
                  pickup: "0,192756,1258647"
                  destination: "0,192756,1258647"
                  seats: 2
                  location:
                    lat: 3.123
                    lng: 2.123
      responses:
        '200':
          description: Successful response with available trips
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  trips:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                    
                        pickup:
                          type: object
                          properties:
                            address:
                              type: string
                            city:
                              type: string
                            distance:
                              type: number
                            departureTime:
                              type: string
                              format: date-time
                            arrivalTime:
                              type: string
                              format: date-time
                        destination:
                          type: object
                          properties:
                            address:
                              type: string
                            city:
                              type: string
                        paymentMethod:
                          type: string
                        price:
                          type: number
                        currency:
                          type: string
                        currencyLabel:
                          type: string
                        remainingSeats:
                          type: number
                        driverProfile:
                          type: object
                          properties:
                            id:
                              type: string
                            phone:
                              type: string
                            picture:
                              type: string
                            name:
                              type: string
                            rating:
                              type: number
                            car:
                              type: object
                              properties:
                                make: 
                                  type: string
                                model: 
                                  type: string
                                color: 
                                  type: string
                                immat:
                                  type: string
                          

                  requests:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        joined:
                          type: boolean
                        pickup:
                          type: object
                          properties:
                            departureTime:
                              type: string
                              format: date-time
                            city:
                              type: string
                        destination:
                          type: object
                          properties:
                            arrivalTime:
                              type: string
                              format: date-time
                            city:
                              type: string
                        

              
        '400':
          description: Bad request, invalid or missing parameters
          content:
            application/json:
              examples:
                bad_request:
                  summary: Example bad request response
                  value:
                    success: false
                    trips: null
                    errorMessageKey: "REQUIRED_FIELD_ERROR"
                    errorMessage: "Invalid or missing parameters"
        '500':
          description: Server error
          content:
            application/json:
              examples:
                search_error:
                  summary: Example error response
                  value:
                    success: false
                    trips: null
                    errorMessageKey: "ERROR_SEARCH_TRIPS"
                    errorMessage: "Error searching for trips"
  /intercity/v1/pricing:
    post:
      summary: Get pricing config of a service
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                pickup:
                  type: string
                  description: Pickup location path
                destination:
                  type: string
                  description: Destination location path
              
              
            
            examples:
              search-request:
                summary: Example search request
                value:
                  pickup: "0,192756,1258647"
                  destination: "0,192756,1258647"
              
      parameters:
        - in: header
          name: yassir-app-language
          required: false
          schema:
            type: string
          description: Preferred language for the response (e.g. en, fr, ar)

      security:
        - bearerAuth: []
      responses:
        '200':
          description: Successful response with config keys
          content:
            application/json:
              schema:
                type: object
                properties:
                  minPrice:
                    type: number
                    description: Minimum price for this trip
                  maxPrice:
                    type: number
                    description: Maximum price for this trip
                  recomendedPrice:
                    type: number
                    description: Recomended price for this trip
                  currencyLabel:
                    type: string
                    description: Currency in the given language
                  currency:
                    type: string
                    description: Currency
                
              examples:
                with-data:
                  summary: Example with some data
                  value:
                    minPrice: 2000
                    maxPrice: 3000
                    recomendedPrice: 1500
                    currency: "DZD"
                    currencyLabel: "DZ"
                with-data-ar:
                  summary: Example with some arabic
                  value:
                    minPrice: 2000
                    maxPrice: 3000
                    recomendedPrice: 1500
                    currencyLabel: "دج"
                    currency: "DZ"
        '400':
          description: Bad request
          content:
            application/json:
              examples:
                destination_error_400:
                  summary: Example 400 error response
                  value:
                    success: false
                    data: null
                    errorMessageKey: "REQUIRED_FIELD_ERROR"
                    errorMessage: "Error in getting the pricing config"
        '500':
          description: Server error
          content:
            application/json:
              examples:
                pickup_error:
                  summary: Example error response
                  value:
                    success: false
                    data: null
                    errorMessageKey: "ERROR_INTERCITY_PRICING"
                    errorMessage: "Error in getting the pricing config for the trip"
  /intercity/v1/trip/book:
    post:
      summary: Post a request for booking. actual path will be <baseurl>/b2c/rider/
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                tripId:
                  type: string
                  description: trip id
                seats:
                  type: number
                  description: number of seats to book
              
            
            examples:
              book-request:
                summary: Example search request
                value:
                  tripId: "68e51fbe690abd6a343a8c45"
                  seats: 2

      security:
        - bearerAuth: []
      responses:
        '200':
          description: Successful response with booking id
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  bookingId:
                    type: number
                    description: Booking Id
                
              examples:
                with-data:
                  summary: Example with some data
                  value:
                    success: true
                    bookingId: "68e51fbe690abd6a343a8c45"
        '400':
          description: Bad request
          content:
            application/json:
              examples:
                bad_request:
                  summary: Example 400 error response
                  value:
                    success: false
                    data: null
                    errorMessageKey: "REQUIRED_FIELD_ERROR"
                    errorMessage: "Error in booking the trip"
        '403':
          description: Forbidden
          content:
            application/json:
              examples:
                forbidden:
                  summary: Example 403 error response
                  value:
                    success: false
                    data: null
                    errorMessageKey: "BOOKING_NOT_ALLOWED"
                    errorMessage: "Error in booking the trip"
        '404':
          description: Not Found
          content:
            application/json:
              examples:
                forbidden:
                  summary: Example 404 error response
                  value:
                    success: false
                    data: null
                    errorMessageKey: "TRIP_NOT_FOUND"
                    errorMessage: "Error in booking the trip"
        '500':
          description: Server error
          content:
            application/json:
              examples:
                pickup_error:
                  summary: Example error response
                  value:
                    success: false
                    data: null
                    errorMessageKey: "ERROR_INTERCITY_PRICING"
                    errorMessage: "Error in getting the pricing config for the trip"
  /intercity/v1/{driverId}/driver-insights:
    get:
      summary: Get driver insights and statistics. 
      parameters:
        - name: driverId
          in: path
          required: true
          schema:
            type: string
          description: The ID of the driver
       
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Successful response with driver insights
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    type: object
                    properties:
                      numberOfRides:
                        type: number
                        description: Total number of rides completed by driver
                      driverJoinedAt:
                        type: string
                        format: date-time
                        description: Date when driver joined the platform
                      daysSinceDriverJoined:
                        type: number
                        description: Number of days since driver joined
                      driverApprovedForTripsAt:
                        type: string
                        format: date-time
                        nullable: true
                        description: Date when driver was approved for trips
                      daysSinceDriverApproved:
                        type: number
                        nullable: true
                        description: Number of days since driver was approved
                      driverInsights:
                        type: array
                        items:
                          type: object
                          properties:
                            _id:
                              type: string
                            driverReviewCode:
                              type: string
                            description:
                              type: object
                              properties:
                                en:
                                  type: string
                                fr:
                                  type: string
                                ar:
                                  type: string
                            icon:
                              type: string
                            category:
                              type: string
                            foregroundColor:
                              type: string
                            backgroundColor:
                              type: string
                            count:
                              type: number
              examples:
                with-data:
                  summary: Example with driver insights
                  value:
                    success: true
                    message: "Driver insights successfully retrieved"
                    data:
                      numberOfRides: 2653
                      driverJoinedAt: "2017-08-22T16:35:16.997Z"
                      daysSinceDriverJoined: 2996
                      driverApprovedForTripsAt: null
                      daysSinceDriverApproved: null
                      driverInsights:
                        - _id: "685d5828ef5984005a1c16a3"
                          driverReviewCode: "REV-1741629974153-2960"
                          description:
                            en: "The driver is friendly and courteous"
                            fr: "Le chauffeur est sympathique et courtois"
                            ar: "السائق ودود ومهذب"
                          icon: "https://storage.googleapis.com/ysr-mobility-stg-pricing-dashboard/driver-insights/rev-1741629974153-2960-1750947879952.png"
                          category: "fourAndFive"
                          foregroundColor: "#FB2576"
                          backgroundColor: "#FFE6E1"
                          count: 14
                        - _id: "685d5828ef5984005a1c16a4"
                          driverReviewCode: "REV-1741629974153-2960"
                          description:
                            en: "Arrival on time"
                            fr: "Arrival on time"
                            ar: "Arrival on time"
                          icon: "https://storage.googleapis.com/ysr-mobility-stg-pricing-dashboard/driver-insights/rev-1741629974153-2960-1750947879952.png"
                          category: "fourAndFive"
                          foregroundColor: "#FB2576"
                          backgroundColor: "#FFE6E1"
                          count: 14
                without-data:
                  summary: Example with driver insights
                  value:
                    success: true
                    message: "Driver insights successfully retrieved"
                    data:
                      numberOfRides: 2653
                      driverJoinedAt: "2017-08-22T16:35:16.997Z"
                      daysSinceDriverJoined: 2996
                      driverApprovedForTripsAt: null
                      daysSinceDriverApproved: null
                      driverInsights: []
        "404":
          description: Not found
          content:
            application/json:
              examples:
                driver_not_found:
                  summary: Driver not found error
                  value:
                    success: false
                    message: "Driver not found"
                    errorMessageKey: "DRIVER_NOT_FOUND"
        "500":
          description: Server error
          content:
            application/json:
              examples:
                server_error:
                  summary: Internal server error
                  value:
                    success: false
                    message: "Error retrieving driver insights"
                    errorMessageKey: "ERROR_DRIVER_INSIGHTS"

